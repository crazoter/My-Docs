(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{70:function(a,e,t){"use strict";t.r(e),t.d(e,"frontMatter",(function(){return b})),t.d(e,"metadata",(function(){return c})),t.d(e,"rightToc",(function(){return p})),t.d(e,"default",(function(){return l}));var s=t(2),n=t(6),m=(t(0),t(90)),b={title:"AI Planning (Reinforcement Learning)"},c={unversionedId:"markdown/ai_planning",id:"markdown/ai_planning",isDocsHomePage:!1,title:"AI Planning (Reinforcement Learning)",description:"Bellman Equation",source:"@site/docs/markdown/ai_planning.md",slug:"/markdown/ai_planning",permalink:"/My-Docs/docs/markdown/ai_planning",editUrl:"https://github.com/crazoter/My-Docs/edit/master/website/docs/markdown/ai_planning.md",version:"current",sidebar:"someSidebar",previous:{title:"Powered by MDX",permalink:"/My-Docs/docs/docusaurus/mdx"},next:{title:"Machine Learning",permalink:"/My-Docs/docs/markdown/machine_learning"}},p=[],r={rightToc:p};function l(a){var e=a.components,t=Object(n.a)(a,["components"]);return Object(m.b)("wrapper",Object(s.a)({},r,t,{components:e,mdxType:"MDXLayout"}),Object(m.b)("h1",{id:"bellman-equation"},"Bellman Equation"),Object(m.b)("ul",null,Object(m.b)("li",{parentName:"ul"},"Apply concept of dynamic programming and optimal substructure to do ",Object(m.b)("strong",{parentName:"li"},"policy evaluation"))),Object(m.b)("p",null,Object(m.b)("strong",{parentName:"p"},"R(s):"),"\n",Object(m.b)("span",Object(s.a)({parentName:"p"},{className:"math math-inline"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"katex"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"katex-mathml"}),Object(m.b)("math",Object(s.a)({parentName:"span"},{xmlns:"http://www.w3.org/1998/Math/MathML"}),Object(m.b)("semantics",{parentName:"math"},Object(m.b)("mrow",{parentName:"semantics"},Object(m.b)("mi",{parentName:"mrow"},"V"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{stretchy:"false"}),"("),Object(m.b)("mi",{parentName:"mrow"},"s"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{stretchy:"false"}),")"),Object(m.b)("mo",{parentName:"mrow"},"="),Object(m.b)("mi",{parentName:"mrow"},"R"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{stretchy:"false"}),"("),Object(m.b)("mi",{parentName:"mrow"},"s"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{stretchy:"false"}),")"),Object(m.b)("mo",{parentName:"mrow"},"+"),Object(m.b)("mi",{parentName:"mrow"},"\u03b3"),Object(m.b)("msub",{parentName:"mrow"},Object(m.b)("mo",{parentName:"msub"},Object(m.b)("mi",{parentName:"mo"},"max"),Object(m.b)("mo",{parentName:"mo"},"\u2061")),Object(m.b)("mrow",{parentName:"msub"},Object(m.b)("mi",{parentName:"mrow"},"a"),Object(m.b)("mo",{parentName:"mrow"},"\u2208"),Object(m.b)("mi",{parentName:"mrow"},"A"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{stretchy:"false"}),"("),Object(m.b)("mi",{parentName:"mrow"},"s"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{stretchy:"false"}),")"))),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{stretchy:"false"}),"("),Object(m.b)("msub",{parentName:"mrow"},Object(m.b)("mo",{parentName:"msub"},"\u2211"),Object(m.b)("msup",{parentName:"msub"},Object(m.b)("mi",{parentName:"msup"},"s"),Object(m.b)("mo",Object(s.a)({parentName:"msup"},{mathvariant:"normal",lspace:"0em",rspace:"0em"}),"\u2032"))),Object(m.b)("mi",{parentName:"mrow"},"P"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{stretchy:"false"}),"("),Object(m.b)("msup",{parentName:"mrow"},Object(m.b)("mi",{parentName:"msup"},"s"),Object(m.b)("mo",Object(s.a)({parentName:"msup"},{mathvariant:"normal",lspace:"0em",rspace:"0em"}),"\u2032")),Object(m.b)("mi",Object(s.a)({parentName:"mrow"},{mathvariant:"normal"}),"\u2223"),Object(m.b)("mi",{parentName:"mrow"},"s"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{separator:"true"}),","),Object(m.b)("mi",{parentName:"mrow"},"a"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{stretchy:"false"}),")"),Object(m.b)("mi",{parentName:"mrow"},"V"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{stretchy:"false"}),"("),Object(m.b)("msup",{parentName:"mrow"},Object(m.b)("mi",{parentName:"msup"},"s"),Object(m.b)("mo",Object(s.a)({parentName:"msup"},{mathvariant:"normal",lspace:"0em",rspace:"0em"}),"\u2032")),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{stretchy:"false"}),")")),Object(m.b)("annotation",Object(s.a)({parentName:"semantics"},{encoding:"application/x-tex"}),"V(s) = R(s) + \u03b3 \\max_{a \u2208 A(s)}( \\sum_{s'} P(s'|s,a)V(s')")))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"katex-html","aria-hidden":"true"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"base"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal",style:{marginRight:"0.22222em"}}),"V"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mopen"}),"("),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal"}),"s"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mclose"}),")"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.2777777777777778em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mrel"}),"="),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.2777777777777778em"}}))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"base"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal",style:{marginRight:"0.00773em"}}),"R"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mopen"}),"("),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal"}),"s"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mclose"}),")"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.2222222222222222em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mbin"}),"+"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.2222222222222222em"}}))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"base"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"strut",style:{height:"1.107092em",verticalAlign:"-0.3551999999999999em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal",style:{marginRight:"0.05556em"}}),"\u03b3"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.16666666666666666em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mop"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mop"}),"max"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"msupsub"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-t vlist-t2"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-r"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist",style:{height:"0.34480000000000005em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{style:{top:"-2.5198em",marginRight:"0.05em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"pstrut",style:{height:"2.7em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"sizing reset-size6 size3 mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal mtight"}),"a"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mrel mtight"}),"\u2208"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal mtight"}),"A"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mopen mtight"}),"("),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal mtight"}),"s"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mclose mtight"}),")"))))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-s"}),"\u200b")),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-r"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist",style:{height:"0.3551999999999999em"}}),Object(m.b)("span",{parentName:"span"})))))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mopen"}),"("),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mop"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mop op-symbol small-op",style:{position:"relative",top:"-0.0000050000000000050004em"}}),"\u2211"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"msupsub"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-t vlist-t2"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-r"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist",style:{height:"0.17826999999999993em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{style:{top:"-2.40029em",marginLeft:"0em",marginRight:"0.05em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"pstrut",style:{height:"2.7em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"sizing reset-size6 size3 mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal mtight"}),"s"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"msupsub"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-t"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-r"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist",style:{height:"0.6828285714285715em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{style:{top:"-2.786em",marginRight:"0.07142857142857144em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"pstrut",style:{height:"2.5em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"sizing reset-size3 size1 mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mtight"}),"\u2032"))))))))))))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-s"}),"\u200b")),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-r"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist",style:{height:"0.29971000000000003em"}}),Object(m.b)("span",{parentName:"span"})))))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.16666666666666666em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal",style:{marginRight:"0.13889em"}}),"P"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mopen"}),"("),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal"}),"s"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"msupsub"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-t"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-r"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist",style:{height:"0.751892em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{style:{top:"-3.063em",marginRight:"0.05em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"pstrut",style:{height:"2.7em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"sizing reset-size6 size3 mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mtight"}),"\u2032"))))))))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord"}),"\u2223"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal"}),"s"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mpunct"}),","),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.16666666666666666em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal"}),"a"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mclose"}),")"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal",style:{marginRight:"0.22222em"}}),"V"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mopen"}),"("),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal"}),"s"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"msupsub"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-t"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-r"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist",style:{height:"0.751892em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{style:{top:"-3.063em",marginRight:"0.05em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"pstrut",style:{height:"2.7em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"sizing reset-size6 size3 mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mtight"}),"\u2032"))))))))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mclose"}),")")))))),Object(m.b)("ul",null,Object(m.b)("li",{parentName:"ul"},Object(m.b)("strong",{parentName:"li"},"Value of a state")," = ",Object(m.b)("strong",{parentName:"li"},"its value")," + (Exploration Factor) x ",Object(m.b)("strong",{parentName:"li"},"best value of next state"),Object(m.b)("ul",{parentName:"li"},Object(m.b)("li",{parentName:"ul"},"How to get best value of next state?",Object(m.b)("ul",{parentName:"li"},Object(m.b)("li",{parentName:"ul"},"By choosing best action: the action that maximizes expected next state value",Object(m.b)("ul",{parentName:"li"},Object(m.b)("li",{parentName:"ul"},"Given (s, a), an action has the value of the sum of (value of next states) x (probability of reaching them).")))))))),Object(m.b)("table",null,Object(m.b)("thead",{parentName:"table"},Object(m.b)("tr",{parentName:"thead"},Object(m.b)("th",Object(s.a)({parentName:"tr"},{align:null}),"Var"),Object(m.b)("th",Object(s.a)({parentName:"tr"},{align:null}),"Descript"))),Object(m.b)("tbody",{parentName:"table"},Object(m.b)("tr",{parentName:"tbody"},Object(m.b)("td",Object(s.a)({parentName:"tr"},{align:null}),"s"),Object(m.b)("td",Object(s.a)({parentName:"tr"},{align:null}),"Any possible state")),Object(m.b)("tr",{parentName:"tbody"},Object(m.b)("td",Object(s.a)({parentName:"tr"},{align:null}),"s'"),Object(m.b)("td",Object(s.a)({parentName:"tr"},{align:null}),"Any possible next state from s")),Object(m.b)("tr",{parentName:"tbody"},Object(m.b)("td",Object(s.a)({parentName:"tr"},{align:null}),"a"),Object(m.b)("td",Object(s.a)({parentName:"tr"},{align:null}),"Any possible action at s")),Object(m.b)("tr",{parentName:"tbody"},Object(m.b)("td",Object(s.a)({parentName:"tr"},{align:null}),"V(s)"),Object(m.b)("td",Object(s.a)({parentName:"tr"},{align:null}),"Value of s")),Object(m.b)("tr",{parentName:"tbody"},Object(m.b)("td",Object(s.a)({parentName:"tr"},{align:null}),"R(s)"),Object(m.b)("td",Object(s.a)({parentName:"tr"},{align:null}),"Reward of s (for staying on it)")),Object(m.b)("tr",{parentName:"tbody"},Object(m.b)("td",Object(s.a)({parentName:"tr"},{align:null}),"A(s)"),Object(m.b)("td",Object(s.a)({parentName:"tr"},{align:null}),"All possible actions at state s")),Object(m.b)("tr",{parentName:"tbody"},Object(m.b)("td",Object(s.a)({parentName:"tr"},{align:null}),"\u03b3"),Object(m.b)("td",Object(s.a)({parentName:"tr"},{align:null}),"Exploration Factor")),Object(m.b)("tr",{parentName:"tbody"},Object(m.b)("td",Object(s.a)({parentName:"tr"},{align:null}),"P(s'","|","s,a)"),Object(m.b)("td",Object(s.a)({parentName:"tr"},{align:null}),"Probability of s' given (s, a)")))),Object(m.b)("p",null,Object(m.b)("strong",{parentName:"p"},"Bellman Equation Variants")),Object(m.b)("p",null,Object(m.b)("strong",{parentName:"p"},"R(s,a,s'):"),"\n",Object(m.b)("span",Object(s.a)({parentName:"p"},{className:"math math-inline"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"katex"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"katex-mathml"}),Object(m.b)("math",Object(s.a)({parentName:"span"},{xmlns:"http://www.w3.org/1998/Math/MathML"}),Object(m.b)("semantics",{parentName:"math"},Object(m.b)("mrow",{parentName:"semantics"},Object(m.b)("mi",{parentName:"mrow"},"V"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{stretchy:"false"}),"("),Object(m.b)("mi",{parentName:"mrow"},"s"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{stretchy:"false"}),")"),Object(m.b)("mo",{parentName:"mrow"},"="),Object(m.b)("msub",{parentName:"mrow"},Object(m.b)("mo",{parentName:"msub"},Object(m.b)("mi",{parentName:"mo"},"max"),Object(m.b)("mo",{parentName:"mo"},"\u2061")),Object(m.b)("mrow",{parentName:"msub"},Object(m.b)("mi",{parentName:"mrow"},"a"),Object(m.b)("mo",{parentName:"mrow"},"\u2208"),Object(m.b)("mi",{parentName:"mrow"},"A"))),Object(m.b)("msub",{parentName:"mrow"},Object(m.b)("mo",{parentName:"msub"},"\u2211"),Object(m.b)("mrow",{parentName:"msub"},Object(m.b)("msup",{parentName:"mrow"},Object(m.b)("mi",{parentName:"msup"},"s"),Object(m.b)("mo",Object(s.a)({parentName:"msup"},{mathvariant:"normal",lspace:"0em",rspace:"0em"}),"\u2032")),Object(m.b)("mo",{parentName:"mrow"},"\u2208"),Object(m.b)("mi",{parentName:"mrow"},"S"))),Object(m.b)("mi",{parentName:"mrow"},"T"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{stretchy:"false"}),"("),Object(m.b)("mi",{parentName:"mrow"},"s"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{separator:"true"}),","),Object(m.b)("mi",{parentName:"mrow"},"a"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{separator:"true"}),","),Object(m.b)("msup",{parentName:"mrow"},Object(m.b)("mi",{parentName:"msup"},"s"),Object(m.b)("mo",Object(s.a)({parentName:"msup"},{mathvariant:"normal",lspace:"0em",rspace:"0em"}),"\u2032")),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{stretchy:"false"}),")"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{stretchy:"false"}),"["),Object(m.b)("mi",{parentName:"mrow"},"R"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{stretchy:"false"}),"("),Object(m.b)("mi",{parentName:"mrow"},"s"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{separator:"true"}),","),Object(m.b)("mi",{parentName:"mrow"},"a"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{separator:"true"}),","),Object(m.b)("msup",{parentName:"mrow"},Object(m.b)("mi",{parentName:"msup"},"s"),Object(m.b)("mo",Object(s.a)({parentName:"msup"},{mathvariant:"normal",lspace:"0em",rspace:"0em"}),"\u2032")),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{stretchy:"false"}),")"),Object(m.b)("mo",{parentName:"mrow"},"+"),Object(m.b)("mi",{parentName:"mrow"},"\u03b3"),Object(m.b)("mi",{parentName:"mrow"},"V"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{stretchy:"false"}),"("),Object(m.b)("msup",{parentName:"mrow"},Object(m.b)("mi",{parentName:"msup"},"s"),Object(m.b)("mo",Object(s.a)({parentName:"msup"},{mathvariant:"normal",lspace:"0em",rspace:"0em"}),"\u2032")),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{stretchy:"false"}),")"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{stretchy:"false"}),"]")),Object(m.b)("annotation",Object(s.a)({parentName:"semantics"},{encoding:"application/x-tex"}),"V(s) = \\max_{a\\in A} \\sum_{s'\\in S} T(s,a,s')[R(s,a,s') + \\gamma V(s')]")))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"katex-html","aria-hidden":"true"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"base"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal",style:{marginRight:"0.22222em"}}),"V"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mopen"}),"("),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal"}),"s"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mclose"}),")"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.2777777777777778em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mrel"}),"="),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.2777777777777778em"}}))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"base"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"strut",style:{height:"1.078972em",verticalAlign:"-0.32708000000000004em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mop"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mop"}),"max"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"msupsub"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-t vlist-t2"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-r"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist",style:{height:"0.32833099999999993em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{style:{top:"-2.5500000000000003em",marginRight:"0.05em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"pstrut",style:{height:"2.7em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"sizing reset-size6 size3 mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal mtight"}),"a"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mrel mtight"}),"\u2208"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal mtight"}),"A"))))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-s"}),"\u200b")),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-r"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist",style:{height:"0.17737em"}}),Object(m.b)("span",{parentName:"span"})))))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.16666666666666666em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mop"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mop op-symbol small-op",style:{position:"relative",top:"-0.0000050000000000050004em"}}),"\u2211"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"msupsub"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-t vlist-t2"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-r"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist",style:{height:"0.17862099999999992em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{style:{top:"-2.40029em",marginLeft:"0em",marginRight:"0.05em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"pstrut",style:{height:"2.7em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"sizing reset-size6 size3 mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal mtight"}),"s"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"msupsub"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-t"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-r"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist",style:{height:"0.6828285714285715em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{style:{top:"-2.786em",marginRight:"0.07142857142857144em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"pstrut",style:{height:"2.5em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"sizing reset-size3 size1 mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mtight"}),"\u2032"))))))))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mrel mtight"}),"\u2208"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal mtight",style:{marginRight:"0.05764em"}}),"S"))))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-s"}),"\u200b")),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-r"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist",style:{height:"0.32708000000000004em"}}),Object(m.b)("span",{parentName:"span"})))))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.16666666666666666em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal",style:{marginRight:"0.13889em"}}),"T"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mopen"}),"("),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal"}),"s"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mpunct"}),","),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.16666666666666666em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal"}),"a"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mpunct"}),","),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.16666666666666666em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal"}),"s"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"msupsub"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-t"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-r"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist",style:{height:"0.751892em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{style:{top:"-3.063em",marginRight:"0.05em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"pstrut",style:{height:"2.7em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"sizing reset-size6 size3 mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mtight"}),"\u2032"))))))))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mclose"}),")"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mopen"}),"["),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal",style:{marginRight:"0.00773em"}}),"R"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mopen"}),"("),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal"}),"s"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mpunct"}),","),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.16666666666666666em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal"}),"a"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mpunct"}),","),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.16666666666666666em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal"}),"s"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"msupsub"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-t"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-r"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist",style:{height:"0.751892em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{style:{top:"-3.063em",marginRight:"0.05em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"pstrut",style:{height:"2.7em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"sizing reset-size6 size3 mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mtight"}),"\u2032"))))))))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mclose"}),")"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.2222222222222222em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mbin"}),"+"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.2222222222222222em"}}))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"base"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"strut",style:{height:"1.001892em",verticalAlign:"-0.25em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal",style:{marginRight:"0.05556em"}}),"\u03b3"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal",style:{marginRight:"0.22222em"}}),"V"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mopen"}),"("),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal"}),"s"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"msupsub"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-t"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-r"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist",style:{height:"0.751892em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{style:{top:"-3.063em",marginRight:"0.05em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"pstrut",style:{height:"2.7em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"sizing reset-size6 size3 mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mtight"}),"\u2032"))))))))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mclose"}),")"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mclose"}),"]")))))),Object(m.b)("ul",null,Object(m.b)("li",{parentName:"ul"},"Reward for transiting from s to s' via a"),Object(m.b)("li",{parentName:"ul"},"Choose the action that has gives the highest (transition reward + discounted future value of that next state)")),Object(m.b)("p",null,Object(m.b)("strong",{parentName:"p"},"R(s,a):"),"\n",Object(m.b)("span",Object(s.a)({parentName:"p"},{className:"math math-inline"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"katex"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"katex-mathml"}),Object(m.b)("math",Object(s.a)({parentName:"span"},{xmlns:"http://www.w3.org/1998/Math/MathML"}),Object(m.b)("semantics",{parentName:"math"},Object(m.b)("mrow",{parentName:"semantics"},Object(m.b)("mi",{parentName:"mrow"},"V"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{stretchy:"false"}),"("),Object(m.b)("mi",{parentName:"mrow"},"s"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{stretchy:"false"}),")"),Object(m.b)("mo",{parentName:"mrow"},"="),Object(m.b)("msub",{parentName:"mrow"},Object(m.b)("mo",{parentName:"msub"},Object(m.b)("mi",{parentName:"mo"},"max"),Object(m.b)("mo",{parentName:"mo"},"\u2061")),Object(m.b)("mrow",{parentName:"msub"},Object(m.b)("mi",{parentName:"mrow"},"a"),Object(m.b)("mo",{parentName:"mrow"},"\u2208"),Object(m.b)("mi",{parentName:"mrow"},"A"))),Object(m.b)("mi",{parentName:"mrow"},"R"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{stretchy:"false"}),"("),Object(m.b)("mi",{parentName:"mrow"},"s"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{separator:"true"}),","),Object(m.b)("mi",{parentName:"mrow"},"a"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{stretchy:"false"}),")"),Object(m.b)("mo",{parentName:"mrow"},"+"),Object(m.b)("mi",{parentName:"mrow"},"\u03b3"),Object(m.b)("msub",{parentName:"mrow"},Object(m.b)("mo",{parentName:"msub"},"\u2211"),Object(m.b)("mrow",{parentName:"msub"},Object(m.b)("msup",{parentName:"mrow"},Object(m.b)("mi",{parentName:"msup"},"s"),Object(m.b)("mo",Object(s.a)({parentName:"msup"},{mathvariant:"normal",lspace:"0em",rspace:"0em"}),"\u2032")),Object(m.b)("mo",{parentName:"mrow"},"\u2208"),Object(m.b)("mi",{parentName:"mrow"},"S"))),Object(m.b)("mi",{parentName:"mrow"},"T"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{stretchy:"false"}),"("),Object(m.b)("mi",{parentName:"mrow"},"s"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{separator:"true"}),","),Object(m.b)("mi",{parentName:"mrow"},"a"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{separator:"true"}),","),Object(m.b)("msup",{parentName:"mrow"},Object(m.b)("mi",{parentName:"msup"},"s"),Object(m.b)("mo",Object(s.a)({parentName:"msup"},{mathvariant:"normal",lspace:"0em",rspace:"0em"}),"\u2032")),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{stretchy:"false"}),")"),Object(m.b)("mi",{parentName:"mrow"},"V"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{stretchy:"false"}),"("),Object(m.b)("msup",{parentName:"mrow"},Object(m.b)("mi",{parentName:"msup"},"s"),Object(m.b)("mo",Object(s.a)({parentName:"msup"},{mathvariant:"normal",lspace:"0em",rspace:"0em"}),"\u2032")),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{stretchy:"false"}),")")),Object(m.b)("annotation",Object(s.a)({parentName:"semantics"},{encoding:"application/x-tex"}),"V(s) = \\max_{a\\in A}R(s,a) + \\gamma \\sum_{s'\\in S} T(s,a,s')V(s')")))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"katex-html","aria-hidden":"true"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"base"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal",style:{marginRight:"0.22222em"}}),"V"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mopen"}),"("),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal"}),"s"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mclose"}),")"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.2777777777777778em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mrel"}),"="),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.2777777777777778em"}}))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"base"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mop"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mop"}),"max"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"msupsub"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-t vlist-t2"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-r"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist",style:{height:"0.32833099999999993em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{style:{top:"-2.5500000000000003em",marginRight:"0.05em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"pstrut",style:{height:"2.7em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"sizing reset-size6 size3 mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal mtight"}),"a"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mrel mtight"}),"\u2208"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal mtight"}),"A"))))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-s"}),"\u200b")),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-r"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist",style:{height:"0.17737em"}}),Object(m.b)("span",{parentName:"span"})))))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.16666666666666666em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal",style:{marginRight:"0.00773em"}}),"R"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mopen"}),"("),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal"}),"s"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mpunct"}),","),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.16666666666666666em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal"}),"a"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mclose"}),")"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.2222222222222222em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mbin"}),"+"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.2222222222222222em"}}))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"base"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"strut",style:{height:"1.078972em",verticalAlign:"-0.32708000000000004em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal",style:{marginRight:"0.05556em"}}),"\u03b3"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.16666666666666666em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mop"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mop op-symbol small-op",style:{position:"relative",top:"-0.0000050000000000050004em"}}),"\u2211"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"msupsub"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-t vlist-t2"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-r"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist",style:{height:"0.17862099999999992em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{style:{top:"-2.40029em",marginLeft:"0em",marginRight:"0.05em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"pstrut",style:{height:"2.7em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"sizing reset-size6 size3 mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal mtight"}),"s"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"msupsub"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-t"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-r"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist",style:{height:"0.6828285714285715em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{style:{top:"-2.786em",marginRight:"0.07142857142857144em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"pstrut",style:{height:"2.5em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"sizing reset-size3 size1 mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mtight"}),"\u2032"))))))))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mrel mtight"}),"\u2208"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal mtight",style:{marginRight:"0.05764em"}}),"S"))))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-s"}),"\u200b")),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-r"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist",style:{height:"0.32708000000000004em"}}),Object(m.b)("span",{parentName:"span"})))))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.16666666666666666em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal",style:{marginRight:"0.13889em"}}),"T"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mopen"}),"("),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal"}),"s"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mpunct"}),","),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.16666666666666666em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal"}),"a"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mpunct"}),","),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.16666666666666666em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal"}),"s"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"msupsub"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-t"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-r"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist",style:{height:"0.751892em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{style:{top:"-3.063em",marginRight:"0.05em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"pstrut",style:{height:"2.7em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"sizing reset-size6 size3 mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mtight"}),"\u2032"))))))))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mclose"}),")"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal",style:{marginRight:"0.22222em"}}),"V"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mopen"}),"("),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal"}),"s"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"msupsub"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-t"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-r"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist",style:{height:"0.751892em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{style:{top:"-3.063em",marginRight:"0.05em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"pstrut",style:{height:"2.7em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"sizing reset-size6 size3 mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mtight"}),"\u2032"))))))))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mclose"}),")")))))),Object(m.b)("ul",null,Object(m.b)("li",{parentName:"ul"},"Reward for taking action a at state s"),Object(m.b)("li",{parentName:"ul"},"Choose the action that has gives the (highest reward + discounted value of all possible next states using said action)")),Object(m.b)("p",null,Object(m.b)("strong",{parentName:"p"},"Converting between reward functions")),Object(m.b)("p",null,Object(m.b)("strong",{parentName:"p"},"R(s,a,s') -> R(s,a)"),":\n",Object(m.b)("span",Object(s.a)({parentName:"p"},{className:"math math-inline"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"katex"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"katex-mathml"}),Object(m.b)("math",Object(s.a)({parentName:"span"},{xmlns:"http://www.w3.org/1998/Math/MathML"}),Object(m.b)("semantics",{parentName:"math"},Object(m.b)("mrow",{parentName:"semantics"},Object(m.b)("msup",{parentName:"mrow"},Object(m.b)("mi",{parentName:"msup"},"R"),Object(m.b)("mo",Object(s.a)({parentName:"msup"},{mathvariant:"normal",lspace:"0em",rspace:"0em"}),"\u2032")),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{stretchy:"false"}),"("),Object(m.b)("mi",{parentName:"mrow"},"s"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{separator:"true"}),","),Object(m.b)("mi",{parentName:"mrow"},"a"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{stretchy:"false"}),")"),Object(m.b)("mo",{parentName:"mrow"},"="),Object(m.b)("msub",{parentName:"mrow"},Object(m.b)("mo",{parentName:"msub"},"\u2211"),Object(m.b)("mrow",{parentName:"msub"},Object(m.b)("msup",{parentName:"mrow"},Object(m.b)("mi",{parentName:"msup"},"s"),Object(m.b)("mo",Object(s.a)({parentName:"msup"},{mathvariant:"normal",lspace:"0em",rspace:"0em"}),"\u2032")),Object(m.b)("mo",{parentName:"mrow"},"\u2208"),Object(m.b)("mi",{parentName:"mrow"},"S"))),Object(m.b)("mi",{parentName:"mrow"},"T"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{stretchy:"false"}),"("),Object(m.b)("mi",{parentName:"mrow"},"s"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{separator:"true"}),","),Object(m.b)("mi",{parentName:"mrow"},"a"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{separator:"true"}),","),Object(m.b)("msup",{parentName:"mrow"},Object(m.b)("mi",{parentName:"msup"},"s"),Object(m.b)("mo",Object(s.a)({parentName:"msup"},{mathvariant:"normal",lspace:"0em",rspace:"0em"}),"\u2032")),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{stretchy:"false"}),")"),Object(m.b)("mi",{parentName:"mrow"},"R"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{stretchy:"false"}),"("),Object(m.b)("mi",{parentName:"mrow"},"s"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{separator:"true"}),","),Object(m.b)("mi",{parentName:"mrow"},"a"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{separator:"true"}),","),Object(m.b)("msup",{parentName:"mrow"},Object(m.b)("mi",{parentName:"msup"},"s"),Object(m.b)("mo",Object(s.a)({parentName:"msup"},{mathvariant:"normal",lspace:"0em",rspace:"0em"}),"\u2032")),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{stretchy:"false"}),")")),Object(m.b)("annotation",Object(s.a)({parentName:"semantics"},{encoding:"application/x-tex"}),"R'(s,a) = \\sum_{s'\\in S}T(s,a,s')R(s,a,s')")))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"katex-html","aria-hidden":"true"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"base"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"strut",style:{height:"1.001892em",verticalAlign:"-0.25em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal",style:{marginRight:"0.00773em"}}),"R"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"msupsub"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-t"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-r"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist",style:{height:"0.751892em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{style:{top:"-3.063em",marginRight:"0.05em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"pstrut",style:{height:"2.7em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"sizing reset-size6 size3 mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mtight"}),"\u2032"))))))))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mopen"}),"("),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal"}),"s"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mpunct"}),","),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.16666666666666666em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal"}),"a"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mclose"}),")"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.2777777777777778em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mrel"}),"="),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.2777777777777778em"}}))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"base"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"strut",style:{height:"1.078972em",verticalAlign:"-0.32708000000000004em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mop"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mop op-symbol small-op",style:{position:"relative",top:"-0.0000050000000000050004em"}}),"\u2211"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"msupsub"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-t vlist-t2"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-r"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist",style:{height:"0.17862099999999992em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{style:{top:"-2.40029em",marginLeft:"0em",marginRight:"0.05em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"pstrut",style:{height:"2.7em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"sizing reset-size6 size3 mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal mtight"}),"s"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"msupsub"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-t"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-r"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist",style:{height:"0.6828285714285715em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{style:{top:"-2.786em",marginRight:"0.07142857142857144em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"pstrut",style:{height:"2.5em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"sizing reset-size3 size1 mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mtight"}),"\u2032"))))))))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mrel mtight"}),"\u2208"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal mtight",style:{marginRight:"0.05764em"}}),"S"))))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-s"}),"\u200b")),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-r"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist",style:{height:"0.32708000000000004em"}}),Object(m.b)("span",{parentName:"span"})))))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.16666666666666666em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal",style:{marginRight:"0.13889em"}}),"T"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mopen"}),"("),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal"}),"s"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mpunct"}),","),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.16666666666666666em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal"}),"a"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mpunct"}),","),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.16666666666666666em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal"}),"s"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"msupsub"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-t"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-r"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist",style:{height:"0.751892em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{style:{top:"-3.063em",marginRight:"0.05em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"pstrut",style:{height:"2.7em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"sizing reset-size6 size3 mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mtight"}),"\u2032"))))))))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mclose"}),")"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal",style:{marginRight:"0.00773em"}}),"R"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mopen"}),"("),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal"}),"s"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mpunct"}),","),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.16666666666666666em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal"}),"a"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mpunct"}),","),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.16666666666666666em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal"}),"s"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"msupsub"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-t"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-r"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist",style:{height:"0.751892em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{style:{top:"-3.063em",marginRight:"0.05em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"pstrut",style:{height:"2.7em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"sizing reset-size6 size3 mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mtight"}),"\u2032"))))))))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mclose"}),")")))))),Object(m.b)("ul",null,Object(m.b)("li",{parentName:"ul"},"The reward for taking an action is the sum of (all its possible transitions) x (related transition rewards)")),Object(m.b)("p",null,Object(m.b)("strong",{parentName:"p"},"R(s,a) -> R(s)"),":\nR'(post(s,a)) = \\gamma^{-1/2}R(s,a)"),Object(m.b)("ul",null,Object(m.b)("li",{parentName:"ul"},'s\' is abstracted out to "post(s,a)", which refers to the "post-state" for every (s,a). In this R:')),Object(m.b)("pre",null,Object(m.b)("code",Object(s.a)({parentName:"pre"},{}),"// (s,a) always goes to post(s,a)\nT'(s,a,post(s,a)) = 1\n// The probability is factored in here\nT'(post(s,a),b,s') = T(s,a,s')\n// The states themselves don't have rewards\nR'(s) = 0\n// The reward for taking the action is put into the pseudo \"post-state\"\nR'(post(s,a)) = gamma^(-1/2)R(s,a)\ngamma' = gamma^(1/2)\n")),Object(m.b)("h1",{id:"value-iteration-algorithm"},"Value Iteration Algorithm"),Object(m.b)("ul",null,Object(m.b)("li",{parentName:"ul"},"Repeatedly update the Utility function U(s) with bellman update.")),Object(m.b)("p",null,Object(m.b)("span",Object(s.a)({parentName:"p"},{className:"math math-inline"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"katex"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"katex-mathml"}),Object(m.b)("math",Object(s.a)({parentName:"span"},{xmlns:"http://www.w3.org/1998/Math/MathML"}),Object(m.b)("semantics",{parentName:"math"},Object(m.b)("mrow",{parentName:"semantics"},Object(m.b)("msub",{parentName:"mrow"},Object(m.b)("mi",{parentName:"msub"},"U"),Object(m.b)("mrow",{parentName:"msub"},Object(m.b)("mi",{parentName:"mrow"},"t"),Object(m.b)("mo",{parentName:"mrow"},"+"),Object(m.b)("mn",{parentName:"mrow"},"1"))),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{stretchy:"false"}),"("),Object(m.b)("mi",{parentName:"mrow"},"s"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{stretchy:"false"}),")"),Object(m.b)("mo",{parentName:"mrow"},"="),Object(m.b)("mi",{parentName:"mrow"},"R"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{stretchy:"false"}),"("),Object(m.b)("mi",{parentName:"mrow"},"s"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{stretchy:"false"}),")"),Object(m.b)("mo",{parentName:"mrow"},"+"),Object(m.b)("mi",{parentName:"mrow"},"\u03b3"),Object(m.b)("msub",{parentName:"mrow"},Object(m.b)("mo",{parentName:"msub"},Object(m.b)("mi",{parentName:"mo"},"max"),Object(m.b)("mo",{parentName:"mo"},"\u2061")),Object(m.b)("mrow",{parentName:"msub"},Object(m.b)("mi",{parentName:"mrow"},"a"),Object(m.b)("mo",{parentName:"mrow"},"\u2208"),Object(m.b)("mi",{parentName:"mrow"},"A"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{stretchy:"false"}),"("),Object(m.b)("mi",{parentName:"mrow"},"s"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{stretchy:"false"}),")"))),Object(m.b)("msub",{parentName:"mrow"},Object(m.b)("mo",{parentName:"msub"},"\u2211"),Object(m.b)("msup",{parentName:"msub"},Object(m.b)("mi",{parentName:"msup"},"s"),Object(m.b)("mo",Object(s.a)({parentName:"msup"},{mathvariant:"normal",lspace:"0em",rspace:"0em"}),"\u2032"))),Object(m.b)("mi",{parentName:"mrow"},"P"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{stretchy:"false"}),"("),Object(m.b)("msup",{parentName:"mrow"},Object(m.b)("mi",{parentName:"msup"},"s"),Object(m.b)("mo",Object(s.a)({parentName:"msup"},{mathvariant:"normal",lspace:"0em",rspace:"0em"}),"\u2032")),Object(m.b)("mi",Object(s.a)({parentName:"mrow"},{mathvariant:"normal"}),"\u2223"),Object(m.b)("mi",{parentName:"mrow"},"s"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{separator:"true"}),","),Object(m.b)("mi",{parentName:"mrow"},"a"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{stretchy:"false"}),")"),Object(m.b)("msub",{parentName:"mrow"},Object(m.b)("mi",{parentName:"msub"},"U"),Object(m.b)("mi",{parentName:"msub"},"t")),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{stretchy:"false"}),"("),Object(m.b)("msup",{parentName:"mrow"},Object(m.b)("mi",{parentName:"msup"},"s"),Object(m.b)("mo",Object(s.a)({parentName:"msup"},{mathvariant:"normal",lspace:"0em",rspace:"0em"}),"\u2032")),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{stretchy:"false"}),")")),Object(m.b)("annotation",Object(s.a)({parentName:"semantics"},{encoding:"application/x-tex"}),"U_{t+1}(s) = R(s) + \\gamma \\max_{a\\in A(s)} \\sum_{s'} P(s'|s,a)U_t(s')")))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"katex-html","aria-hidden":"true"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"base"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal",style:{marginRight:"0.10903em"}}),"U"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"msupsub"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-t vlist-t2"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-r"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist",style:{height:"0.301108em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{style:{top:"-2.5500000000000003em",marginLeft:"-0.10903em",marginRight:"0.05em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"pstrut",style:{height:"2.7em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"sizing reset-size6 size3 mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal mtight"}),"t"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mbin mtight"}),"+"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mtight"}),"1"))))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-s"}),"\u200b")),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-r"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist",style:{height:"0.208331em"}}),Object(m.b)("span",{parentName:"span"})))))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mopen"}),"("),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal"}),"s"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mclose"}),")"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.2777777777777778em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mrel"}),"="),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.2777777777777778em"}}))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"base"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal",style:{marginRight:"0.00773em"}}),"R"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mopen"}),"("),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal"}),"s"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mclose"}),")"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.2222222222222222em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mbin"}),"+"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.2222222222222222em"}}))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"base"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"strut",style:{height:"1.107092em",verticalAlign:"-0.3551999999999999em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal",style:{marginRight:"0.05556em"}}),"\u03b3"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.16666666666666666em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mop"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mop"}),"max"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"msupsub"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-t vlist-t2"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-r"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist",style:{height:"0.34480000000000005em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{style:{top:"-2.5198em",marginRight:"0.05em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"pstrut",style:{height:"2.7em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"sizing reset-size6 size3 mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal mtight"}),"a"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mrel mtight"}),"\u2208"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal mtight"}),"A"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mopen mtight"}),"("),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal mtight"}),"s"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mclose mtight"}),")"))))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-s"}),"\u200b")),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-r"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist",style:{height:"0.3551999999999999em"}}),Object(m.b)("span",{parentName:"span"})))))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.16666666666666666em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mop"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mop op-symbol small-op",style:{position:"relative",top:"-0.0000050000000000050004em"}}),"\u2211"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"msupsub"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-t vlist-t2"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-r"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist",style:{height:"0.17826999999999993em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{style:{top:"-2.40029em",marginLeft:"0em",marginRight:"0.05em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"pstrut",style:{height:"2.7em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"sizing reset-size6 size3 mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal mtight"}),"s"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"msupsub"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-t"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-r"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist",style:{height:"0.6828285714285715em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{style:{top:"-2.786em",marginRight:"0.07142857142857144em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"pstrut",style:{height:"2.5em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"sizing reset-size3 size1 mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mtight"}),"\u2032"))))))))))))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-s"}),"\u200b")),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-r"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist",style:{height:"0.29971000000000003em"}}),Object(m.b)("span",{parentName:"span"})))))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.16666666666666666em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal",style:{marginRight:"0.13889em"}}),"P"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mopen"}),"("),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal"}),"s"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"msupsub"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-t"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-r"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist",style:{height:"0.751892em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{style:{top:"-3.063em",marginRight:"0.05em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"pstrut",style:{height:"2.7em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"sizing reset-size6 size3 mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mtight"}),"\u2032"))))))))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord"}),"\u2223"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal"}),"s"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mpunct"}),","),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.16666666666666666em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal"}),"a"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mclose"}),")"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal",style:{marginRight:"0.10903em"}}),"U"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"msupsub"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-t vlist-t2"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-r"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist",style:{height:"0.2805559999999999em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{style:{top:"-2.5500000000000003em",marginLeft:"-0.10903em",marginRight:"0.05em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"pstrut",style:{height:"2.7em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"sizing reset-size6 size3 mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal mtight"}),"t")))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-s"}),"\u200b")),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-r"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist",style:{height:"0.15em"}}),Object(m.b)("span",{parentName:"span"})))))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mopen"}),"("),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal"}),"s"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"msupsub"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-t"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-r"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist",style:{height:"0.751892em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{style:{top:"-3.063em",marginRight:"0.05em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"pstrut",style:{height:"2.7em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"sizing reset-size6 size3 mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mtight"}),"\u2032"))))))))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mclose"}),")")))))),Object(m.b)("ul",null,Object(m.b)("li",{parentName:"ul"},"U is only updated after every single state has been looped through.")),Object(m.b)("pre",null,Object(m.b)("code",Object(s.a)({parentName:"pre"},{}),"// Returns Utility function U(s)\nfunction Value-Iteration(mdp, err_threshold)\n    loop:\n        U_t = U_t+1, max_delta = 0\n        for all states s in S:\n            Update U_t+1 with bellman equation.\n            Update max_delta if abs(U(s) - U_t+1(s)) exceed max_delta\n        break loop if max_delta less than err_threshold(1-gamma)/gamma \n    return U_t\n")),Object(m.b)("h1",{id:"policy-evaluation-algorithm"},"Policy Evaluation Algorithm"),Object(m.b)("ul",null,Object(m.b)("li",{parentName:"ul"},"Same as Value Iteration.\n",Object(m.b)("strong",{parentName:"li"}," But we want to "),"evaluate a given policy pi_i",Object(m.b)("strong",{parentName:"li"},". Thus, ",Object(m.b)("em",{parentName:"strong"},"we don't need to take the max, we just need to use the policy."))," Hence: Instead of taking the best action, take the action that the policy thinks is the best action")),Object(m.b)("p",null,"[latexmath]","\n++++\nU",Object(m.b)("em",{parentName:"p"},"i(s) = R(s) + \\gamma \\sum"),"{s'} P(s'|s,\\pi_i(s))U_i(s')\n++++"),Object(m.b)("h1",{id:"policy-iteration-algorithm"},"Policy Iteration Algorithm"),Object(m.b)("ul",null,Object(m.b)("li",{parentName:"ul"},"We don't need to calculate U(s) so accurately if we just want to find the optimal policy"),Object(m.b)("li",{parentName:"ul"},"Two step approach:")),Object(m.b)("ol",null,Object(m.b)("li",{parentName:"ol"},Object(m.b)("strong",{parentName:"li"},"Init"),": Start with initial policy pi_0"),Object(m.b)("li",{parentName:"ol"},Object(m.b)("strong",{parentName:"li"},"Policy Evaluation"),": Calculate Utility function U_i given current policy. See Policy Evaluation above."),Object(m.b)("li",{parentName:"ol"},Object(m.b)("strong",{parentName:"li"},"Policy Improvement"),": Calculate new policy pi_i+1 using U_i."),Object(m.b)("li",{parentName:"ol"},Object(m.b)("strong",{parentName:"li"},"Termination"),": Repeat until the new and old policy are the same (no change).")),Object(m.b)("pre",null,Object(m.b)("code",Object(s.a)({parentName:"pre"},{}),"// Returns policy pi\nfunction Policy-Iteration(mdp)\n    U = set all to 0\n    pi = random policy\n    loop\n        unchanged = true\n        U_i = Policy-Evaluation(pi, U, mdp)\n        for all states s in S:\n            If the best action at s is different:\n                Update pi[s]\n                unchanged = false\n        break if unchanged\n    return pi\n    \n")),Object(m.b)("p",null,"The check for the best action is done as follows:"),Object(m.b)("p",null,"[latexmath]","\n++++\n\\max",Object(m.b)("em",{parentName:"p"},"{a\\in A(s)} \\sum"),"{s'} P(s'|s,a)U",Object(m.b)("em",{parentName:"p"},"i(s') > \\sum"),"{s'} P(s'|s,\\pi_i(s))U_i(s')\n++++"),Object(m.b)("ul",null,Object(m.b)("li",{parentName:"ul"},"Identify the action with highest utility at s"),Object(m.b)("li",{parentName:"ul"},"Check if it is the same action taken in the policy")),Object(m.b)("h1",{id:"modified-policy-iteration"},"Modified Policy Iteration"),Object(m.b)("ul",null,Object(m.b)("li",{parentName:"ul"},"Only do k iterations instead of until no change")),Object(m.b)("h1",{id:"model-based-prediction"},"Model-Based Prediction"),Object(m.b)("ul",null,Object(m.b)("li",{parentName:"ul"},"Prediction: Given traces of a policy and the final reward, learn the utility function by constructing the model from the data using an agent:\n",Object(m.b)("strong",{parentName:"li"}," Learn "),"transition model",Object(m.b)("strong",{parentName:"li"}," and "),"reward function",Object(m.b)("strong",{parentName:"li"}," using an "),"Adaptive Dynamic Programming",Object(m.b)("strong",{parentName:"li"}," (ADP) agent.\n")," ",Object(m.b)("strong",{parentName:"li"},"Calculate the Utility function."))),Object(m.b)("pre",null,Object(m.b)("code",Object(s.a)({parentName:"pre"},{}),"\n// persistent variables\ns_prev\n\npi: policy\n\nmdp: current constructed model, rewards and discount\n\nU: table of utilities\n\nNsa: Table keeping count of number of times at state s, action a was taken\n\nNsas': Table keeping count of number of times the next state was s' given (s,a) (thus s,a,s')\n\n// Called everytime a new percept is observed by the agent\n// Percept: (previous state s, current state s', current reward r')\nfunction PASSIVE-ADP-AGENT(percept)\n    if s_curr is new:\n        U[s_curr] = r_curr\n        R[s_curr] = r_curr\n    if s_prev not null:\n        // Increment counters\n        Nsa[s_prev,a]++\n        Ns'sa[s_curr,s_prev,a]++\n        \n        // Update transition function \n        // for every known reachable state by (s,a)\n        for every state where Ns'sa[state,s,a] > 0:\n            // # of times state happened when action was taken\n            T(s,a,s') = Ns'as[s,a,s'] / Nsa[s,a]\n    U = Policy-Evaluation(pi, U, mdp)\n    if s_curr is terminal:\n        s_prev,a = null\n    else\n        s_prev,a = s_curr, pi[s_curr]\n    return a\n")),Object(m.b)("h1",{id:"model-based-control"},"Model-Based Control"),Object(m.b)("ul",null,Object(m.b)("li",{parentName:"ul"},"Learn the policy, not the utility"),Object(m.b)("li",{parentName:"ul"},"Just replace Policy-Evaluation with Policy-Iteration"),Object(m.b)("li",{parentName:"ul"},"The policy no longer stays fixed but changes as transitions and rewards learnt"),Object(m.b)("li",{parentName:"ul"},"Note that however the algorithm is greedy and may not return the optimal value"),Object(m.b)("li",{parentName:"ul"},"Hence must do e-greedy exploration (choose a greedy action with 1-e probability and random action with e probability)\n",Object(m.b)("strong",{parentName:"li"}," Greedy in the Limit of Infinite Exploration (GLIE), e = 1/t\n")," Start with a high epsilon, then slowly reduce the number of random actions you take (by reducing the value of e) with every policy iteration as you become more and more certain you have an optimal algorithm")),Object(m.b)("h1",{id:"monte-carlo-learning"},"Monte Carlo Learning"),Object(m.b)("ul",null,Object(m.b)("li",{parentName:"ul"},"Monte Carlo Learning (Direct Utility Estimation)\n",Object(m.b)("strong",{parentName:"li"},' Given a series of states as a "trial" e.g. this is a trial: (1)-.04->(2)-.04->(2)-.04->(3)-.04->(4)-.04...->(5)+1\n')," Keep a running reward average for every state; after infinite trials, sample average will converge to expected value\n",Object(m.b)("strong",{parentName:"li"},"* e.g. for the above trial, maybe state (1) has a sample total reward of 0.72\n**")," Calculate by taking sum of rewards from that state to the end)\n",Object(m.b)("strong",{parentName:"li"},"* If a state is visited multiple times in a trial e.g. state (2):\n**")," first-visit: take the sum of rewards from only on the first visit per trial\n**** every visit: take multiple sums for every time the state was visited in a trial.")),Object(m.b)("p",null,"Assume state s encountered k times with k returns, and each summed reward is stored in G_i(s). "),Object(m.b)("ul",null,Object(m.b)("li",{parentName:"ul"},"Note that G_i(s), given infinitely many i iterations, will converge to the true value; hence G_i(s) - U_k-1(s) is the MC error")),Object(m.b)("p",null,"[latexmath]","\n++++\nU",Object(m.b)("em",{parentName:"p"},"k(s) = \\frac{1}{k}\\sum"),"{i=1}^{k}G_i(s)\n++++"),Object(m.b)("p",null,"[latexmath]","\n++++\nU",Object(m.b)("em",{parentName:"p"},"k(s) = \\frac{1}{k}G_k(s) + \\frac{1}{k}\\sum"),"{i=1}^{k-1}G_i(s)\n++++"),Object(m.b)("p",null,"[latexmath]","\n++++\nU",Object(m.b)("em",{parentName:"p"},"k(s) = \\frac{1}{k}G_k(s) + \\frac{1}{k}*(k-1)U"),"{k-1}(s)\n++++"),Object(m.b)("p",null,"[latexmath]","\n++++\nU",Object(m.b)("em",{parentName:"p"},"k(s) = \\frac{k}{k}U"),"{k-1}(s) - \\frac{1}{k}U_{k-1}(s) + \\frac{1}{k}G_k(s)\n++++"),Object(m.b)("p",null,"[latexmath]","\n++++\nU",Object(m.b)("em",{parentName:"p"},"k(s) = U"),"{k-1}(s) + \\frac{1}{k}(G",Object(m.b)("em",{parentName:"p"},"k(s) - U"),"{k-1}(s))\n++++"),Object(m.b)("ul",null,Object(m.b)("li",{parentName:"ul"},"The difference between the current U_k(s) and the previous U(s) is the prediction error (if you want to mnimize absolute loss, you can use median instead of average)"),Object(m.b)("li",{parentName:"ul"},"Note that U(s) here can also apply to U(s,a), and can also be renamed as Q(s) and Q(s,a)")),Object(m.b)("pre",null,Object(m.b)("code",Object(s.a)({parentName:"pre"},{}),"# Monte Carlo Prediction (Learning U(s))\nAfter every trial:\n    Take every state (or first state occurence) and calculate its value sum\n    Increment Ns\n    U_k(s) = U_k-1(s) + 1/k(sum - U_k-1(s))\n    \n# Monte Carlo Control (Learning pi)\nAfter every trial:\n    Take every (s,a):\n        newR(s,a) = take every/1st (s,a) and calculate value sum\n        Increment Ns\n        Q(s,a) = Q_k-1(s,a) + 1/k(newR(s,a) - Q_k-1(s,a))\n    For every s:\n        pi(s) = Take action that maximizes Q(s,a)\n")),Object(m.b)("p",null,"Advantages"),Object(m.b)("ul",null,Object(m.b)("li",{parentName:"ul"},"Simple"),Object(m.b)("li",{parentName:"ul"},"Unbiased estimate")),Object(m.b)("p",null,"Disadvantages"),Object(m.b)("ul",null,Object(m.b)("li",{parentName:"ul"},"Must wait until full trial is done in order to perform learning"),Object(m.b)("li",{parentName:"ul"},"High variance (reward is the sum of many rewards along the trial), so need many trials to get it right")),Object(m.b)("h1",{id:"temporal-difference-learning"},"Temporal Difference Learning"),Object(m.b)("ul",null,Object(m.b)("li",{parentName:"ul"},"Very similar to Monte Carlo Learning"),Object(m.b)("li",{parentName:"ul"},"Replace the ")),Object(m.b)("p",null,"[latexmath]","\n++++\nU^\\pi(s) = U^\\pi(s) + \\alpha(R(s) + \\gamma U^\\pi(s') - U\\pi(s))\n++++"),Object(m.b)("ul",null,Object(m.b)("li",{parentName:"ul"},Object(m.b)("p",{parentName:"li"},"Transition from state s to s'.")),Object(m.b)("li",{parentName:"ul"},Object(m.b)("p",{parentName:"li"},"Alpha is the learning rate.\n** Converges if alpha decreases with the number of times the state has been visited (think GLIE)")),Object(m.b)("li",{parentName:"ul"},Object(m.b)("p",{parentName:"li"},"stem:","[R(s) + \\gamma U^\\pi(s')]",": ",Object(m.b)("strong",{parentName:"p"},"Temporal Difference target"),"\n** (this is basically bellman update, policy evaluation)")),Object(m.b)("li",{parentName:"ul"},Object(m.b)("p",{parentName:"li"},"stem:","[R(s) + \\gamma U^\\pi(s') - U^\\pi(s)]",": ",Object(m.b)("strong",{parentName:"p"},"Temporal Difference error"),"\n",Object(m.b)("strong",{parentName:"p"}," (amount of utility change from previous state s to current state s')\n")," difference between the estimated reward at any given state or time step and the actual reward received\n** Utility of current state + discounted future reward(future state) - expectedRewardWithIncludesFutureRewards(s)"))),Object(m.b)("pre",null,Object(m.b)("code",Object(s.a)({parentName:"pre"},{}),"# Prediction\nTD-Agent:\nfor every percept (curr_state s', immediate reward r')\nif s' is new:\n    U[s'] = r'\nif s not null:\n    Ns[s]++\n    U[s] = U[s] + alpha*Ns[s]*(r+gamma*U[s']-U[s])\nif s' terminal:\n    s,a,r = null\nelse: # update prev data\n    s,a,r = s',pi[s'],r'\nreturn a\n")),Object(m.b)("p",null,"Advantages"),Object(m.b)("ul",null,Object(m.b)("li",{parentName:"ul"},"Can learn with every step (in a trial)"),Object(m.b)("li",{parentName:"ul"},"Usually converges faster in practice")),Object(m.b)("p",null,"Disadvantages"),Object(m.b)("ul",null,Object(m.b)("li",{parentName:"ul"},"Online; lower variance, but estimate on how good your estimate is; biased"),Object(m.b)("li",{parentName:"ul"},"Assumes MDP"),Object(m.b)("li",{parentName:"ul"},"Error can go in any direction")),Object(m.b)("p",null,"SARSA uses TD learning w.r.t. a specific policy:"),Object(m.b)("p",null,"[latexmath]","\n++++\nU^\\pi(s,a) = U^\\pi(s,a) + \\alpha(R(s,a) + \\gamma U^\\pi(s',\\pi((s')) - U\\pi(s,a))\n++++"),Object(m.b)("p",null,"Q-Learning uses TD learning w.r.t. the optimal policy (s' is the next state after (s,a) is taken):"),Object(m.b)("p",null,"[latexmath]","\n++++\nQ(s,a) = Q(s,a) + \\alpha(R(s,a) + \\gamma \\max_{a\\in A(s')} Q(s',a) - Q(s,a))\n++++"),Object(m.b)("h1",{id:"n-step-td-tdlambda"},"n-step TD, TD(lambda)"),Object(m.b)("p",null,"Alister Reis has a very good blog post on this\n",Object(m.b)("a",Object(s.a)({parentName:"p"},{href:"https://amreis.github.io/ml/reinf-learn/2017/11/02/reinforcement-learning-eligibility-traces.html"}),"https://amreis.github.io/ml/reinf-learn/2017/11/02/reinforcement-learning-eligibility-traces.html")),Object(m.b)("p",null,"See also?"),Object(m.b)("ul",null,Object(m.b)("li",{parentName:"ul"},Object(m.b)("a",Object(s.a)({parentName:"li"},{href:"https://towardsdatascience.com/reinforcement-learning-td-%CE%BB-introduction-686a5e4f4e60#:~:text=random%20walk%20example-,The%20Idea%20of%20TD(%CE%BB),0.5*Gt%3At%2B4"}),"https://towardsdatascience.com/reinforcement-learning-td-%CE%BB-introduction-686a5e4f4e60#:~:text=random%20walk%20example-,The%20Idea%20of%20TD(%CE%BB),0.5*Gt%3At%2B4"))),Object(m.b)("p",null,"Other Resources:"),Object(m.b)("ul",null,Object(m.b)("li",{parentName:"ul"})))}l.isMDXComponent=!0}}]);